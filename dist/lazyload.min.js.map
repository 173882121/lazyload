{"version":3,"file":"lazyload.min.js","sources":["../src/lazyload.js"],"names":["root","factory","define","amd","exports","module","LazyLoad","this","_init","_isInitialized","_defaultSettings","elements_selector","container","window","threshold","throttle","data_src","data_srcset","class_loading","class_loaded","skip_invisible","callback_load","callback_error","callback_set","callback_processed","placeholder","_supportsAddEventListener","addEventListener","_supportsAttachEvent","attachEvent","_supportsClassList","document","body","classList","_addEventListener","element","eventName","callback","el","call","event","_removeEventListener","removeEventListener","detachEvent","_isInsideViewport","_getDocumentWidth","innerWidth","ownerDocument","documentElement","clientWidth","_getDocumentHeight","innerHeight","clientHeight","_getTopOffset","getBoundingClientRect","top","documentTop","clientTop","_getLeftOffset","left","documentLeft","clientLeft","_isBelowViewport","fold","offsetHeight","_isAtRightOfViewport","pageXOffset","_isAboveViewport","_isAtLeftOfViewport","offsetWidth","pageYOffset","scrollTop","scrollLeft","_now","d","Date","getTime","_merge_objects","obj1","obj2","propertyName","obj3","hasOwnProperty","_convertToArray","nodeSet","Array","prototype","slice","e","i","array","l","length","push","_addClass","className","add","_removeClass","remove","replace","RegExp","_setSourcesForPicture","srcsetDataAttribute","parent","parentElement","tagName","children","pictureChild","sourceSrcset","getAttribute","setAttribute","_setSources","srcDataAttribute","elementSrc","imgSrcset","style","backgroundImage","_bind","fn","obj","apply","arguments","instanceSettings","_settings","_queryOriginNode","_previousLoopTime","_loopTimeout","_handleScrollFn","handleScroll","update","_showOnAppear","loadCallback","settings","_loopThroughElements","elements","_elements","elementsLength","processedIndexes","offsetParent","wasProcessed","splice","pop","_stopScrollHandler","_purgeElements","elementsToPurge","_startScrollHandler","_isHandlingScroll","remainingTime","now","clearTimeout","setTimeout","querySelectorAll","destroy"],"mappings":"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"}